# SendEmail
# Demo here https://www.loom.com/share/d5f6f5086a374935be08cb5b526cd920?sid=b358e307-7273-4432-94a3-e65cc96df9a9

This code will Query OpenAI to get bitcoin information. Use Brave api to store the information in supabase database and then use mailnet to send email
# Personalized Finance Analysis System

A comprehensive system that tracks Bitcoin prices, financial news, and delivers personalized analysis via email.

## Components

### 1. Bitcoin Price Agent (`btc_agent.py`)
- Fetches real-time Bitcoin prices using CoinGecko API
- Stores price data in Supabase database
- Table: `btc_price` (id, price, timestamp)

### 2. Information Agent (`info_agent.py`)
- Uses Brave Search API to fetch:
  - Cryptocurrency market news
  - Global financial market updates
- Processes news using OpenAI GPT-3.5
- Stores analyzed news in Supabase
- Table: `eco_info` (id, created_at, finance_info)

### 3. Email Agent (`email_agent.py`)
- Combines data from both databases
- Generates intelligent analysis using OpenAI
- Sends personalized email reports using Mailjet
- Includes price correlations and market insights

## Setup

1. Install required packages:
2. 
pip install python-dotenv supabase-py openai requests mailjet-rest


2. Create `.env` file with your API keys:
env
SUPABASE_URL="your_supabase_url"
SUPABASE_KEY="your_supabase_key"
OPENAI_API_KEY="your_openai_key"
BRAVE_API_KEY="your_brave_api_key"
MAILJET_API_KEY="your_mailjet_api_key"
MAILJET_API_SECRET="your_mailjet_api_secret"
   
3. Set up Supabase tables:
4. sql
-- Bitcoin price table
create table btc_price (
id bigint generated by default as identity primary key,
price float4 not null,
timestamp timestamptz not null
);
-- Economic news table
create table eco_info (
id bigint generated by default as identity primary key,
created_at timestamptz not null,
finance_info text not null

);


## Usage

1. Run Bitcoin price tracking:

2. bash
python btc_agent.py

2. Fetch and analyze news:
bash
python info_agent.py


3. Generate and send analysis email:
   bash
python email_agent.py


## Features

- Real-time Bitcoin price tracking
- Dual-category news analysis (crypto & macro)
- Rate-limited API calls
- Error handling and logging
- Personalized email reports
- Database persistence

## Email Format

- Sender: "Ambika's Personalized Finance Agent"
- Recipient: configured email address
- Content: 
  - Recent Bitcoin price movements
  - Relevant financial news
  - Market correlations
  - Actionable insights
  - Professional signature

## Dependencies

- Python 3.x
- OpenAI GPT-3.5
- Supabase
- Mailjet
- Brave Search API
- CoinGecko API

## Error Handling

- API rate limiting
- Database connection errors
- Email delivery failures
- Data processing issues

## Maintenance

- Monitor API usage limits
- Check database storage
- Update API keys as needed
- Verify email delivery status

## Author
Ambika

## Notes

- Ensure all API keys are valid
- Keep environment variables secure
- Monitor rate limits for all APIs
- Regular database maintenance recommended
